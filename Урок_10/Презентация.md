# Използване на Amazon CloudFront за доставка на съдържание

---

## Какво ще научим днес?

- Какво е Amazon CloudFront и как работи
- Създаване и конфигуриране на CloudFront дистрибуции
- Основни функции на CloudFront (кеширане, сигурност, мониторинг)
- Интеграция с други AWS услуги
- Практически проект с CloudFront и други AWS услуги

---

## Какво е Amazon CloudFront?

![CloudFront](https://i.imgur.com/1XZtVnL.png)

Amazon CloudFront е глобална мрежа за доставка на съдържание (CDN), която ускорява доставката на вашите уебсайтове, API, видео съдържание и други уеб активи до вашите потребители

---

## Основни концепции на CloudFront

- **Дистрибуции** - конфигурации за доставка на съдържание
- **Origins** - източници на съдържание (S3, EC2, HTTP сървър)
- **Edge Locations** - глобални точки за присъствие
- **Кеширане** - съхранение на копия на съдържание
- **Сигурност** - SSL/TLS, подписани URL адреси и заглавия
- **Мониторинг** - наблюдение на производителността и използването

---

## Как работи CloudFront?

1. Създавате CloudFront дистрибуция
2. Качвате съдържание в източника
3. Потребителите заявяват съдържание
4. CloudFront доставя съдържание
5. Кеширане на съдържание
6. Мониторинг и управление

---

## Създаване на CloudFront дистрибуция

![Create CloudFront](https://i.imgur.com/2XZtVnL.png)

1. Отворете CloudFront конзолата
2. Кликнете "Create distribution"
3. Изберете тип дистрибуция
4. Конфигурирайте настройки на дистрибуцията
5. Кликнете "Create distribution"

---

## Конфигуриране на настройки на дистрибуцията

- **Източник на съдържание** - S3 bucket, EC2 инстанция, HTTP сървър
- **Кеширане** - Default TTL, Max TTL, Min TTL
- **Сигурност** - SSL/TLS, подписани URL адреси и бисквитки
- **Мониторинг** - Logging, CloudWatch Metrics
- **Допълнителни настройки** - Custom Error Pages, Geo Restriction

---

## Управление на CloudFront дистрибуция

![Manage CloudFront](https://i.imgur.com/3XZtVnL.png)

- **Качване на съдържание в източника** - S3 bucket или друг източник
- **Достъп до съдържание чрез CloudFront** - използвайте предоставения CloudFront домейн
- **Управление на кеша** - създаване на invalidations
- **Мониторинг на производителността** - CloudWatch метрики

---

## Основни функции на CloudFront

![CloudFront Features](https://i.imgur.com/4XZtVnL.png)

- **Кеширане** - съхранение на съдържание в Edge Locations
- **Сигурност** - SSL/TLS, подписани URL адреси и заглавия, географски ограничения
- **Мониторинг** - CloudWatch метрики и логове

---

## Конфигуриране на кеширане

1. В CloudFront конзолата, изберете дистрибуцията
2. Отидете на "Behaviors"
3. Изберете поведение и кликнете "Edit"
4. Конфигурирайте настройки за кеширане (TTL, заглавия, бисквитки)
5. Кликнете "Save changes"

---

## Активиране на SSL/TLS

1. В CloudFront конзолата, изберете дистрибуцията
2. Отидете на "General"
3. Кликнете "Edit"
4. Изберете "Viewer Protocol Policy" (например "Redirect HTTP to HTTPS")
5. Кликнете "Save changes"

---

## Използване на подписани URL адреси и бисквитки

1. Създайте CloudFront ключови двойки в AWS Management Console
2. Използвайте AWS SDK за генериране на подписани URL адреси и бисквитки
3. Конфигурирайте приложението да използва подписани URL адреси и бисквитки

---

## Активиране на логване

1. В CloudFront конзолата, изберете дистрибуцията
2. Отидете на "General"
3. Кликнете "Edit"
4. Активирайте "Logging" и изберете S3 bucket за логовете
5. Кликнете "Save changes"

---

## Преглед на CloudWatch метрики

1. В CloudFront конзолата, изберете дистрибуцията
2. Отидете на "Monitoring"
3. Прегледайте CloudWatch метриките за заявки, латентност, грешки

---

## Интеграция на CloudFront с други AWS услуги

![CloudFront Integration](https://i.imgur.com/5XZtVnL.png)

- **S3** - доставка на съдържание директно от S3 bucket
- **EC2** - доставка на съдържание от EC2 инстанции
- **Lambda@Edge** - изпълнение на Lambda функции в Edge Locations

---

## Интеграция със S3

1. В CloudFront конзолата, създайте нова дистрибуция
2. Изберете S3 bucket като източник на съдържание
3. Конфигурирайте настройки за кеширане и сигурност
4. Кликнете "Create distribution"

---

## Интеграция с EC2

1. В CloudFront конзолата, създайте нова дистрибуция
2. Изберете EC2 инстанция като източник на съдържание
3. Конфигурирайте настройки за кеширане и сигурност
4. Кликнете "Create distribution"

---

## Интеграция с Lambda@Edge

1. Създайте Lambda функция в AWS Management Console
2. Деплойте функцията в Edge Locations чрез Lambda@Edge
3. Конфигурирайте CloudFront дистрибуцията да използва Lambda@Edge функцията

---

## Практически проект: Статичен уебсайт с CloudFront и S3

![Project Architecture](https://i.imgur.com/6XZtVnL.png)

1. Качете статични файлове (HTML, CSS, JavaScript) в S3 bucket
2. Създайте CloudFront дистрибуция за доставяне на съдържанието от S3 bucket
3. Конфигурирайте кеширане, сигурност и мониторинг

---

## Стъпка 1: Създаване на S3 bucket

- Създайте S3 bucket за статичните файлове
- Качете файловете (index.html, styles.css, script.js)
- Уверете се, че файловете са публично достъпни

---

## Стъпка 2: Създаване на CloudFront дистрибуция

- В CloudFront конзолата, създайте нова дистрибуция
- Изберете S3 bucket като източник на съдържание
- Конфигурирайте настройки за кеширане и сигурност
- Кликнете "Create distribution"

---

## Стъпка 3: Конфигуриране на кеширане и сигурност

- В CloudFront конзолата, изберете дистрибуцията
- Отидете на "Behaviors" и конфигурирайте кеширане
- Отидете на "General" и активирайте SSL/TLS

---

## Стъпка 4: Мониторинг на производителността

- В CloudFront конзолата, изберете дистрибуцията
- Отидете на "Monitoring" и активирайте CloudWatch метрики
- Прегледайте метриките за заявки, латентност и грешки

---

## Стъпка 5: Тестване на уебсайта

- Използвайте предоставения CloudFront домейн за достъп до уебсайта
- Проверете дали съдържанието се доставя правилно и бързо
- Направете промени в съдържанието и изчистете кеша при нужда

---

## Въпроси?

![Въпроси](https://i.imgur.com/7XZtVnL.png)
